<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}ê°€ìì—°ì„¸ë³‘ì› ì—°ì°¨ê´€ë¦¬ ì‹œìŠ¤í…œ{% endblock %}</title>

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- FullCalendar + Axios -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
      body {
        font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
        background: linear-gradient(to bottom right, #f0f9ff, #ffffff);
        color: #334155;
      }

      .table-wrapper { overflow-x: auto; -webkit-overflow-scrolling: touch; }

      .card {
        background: #fff;
        border-radius: 1rem;
        box-shadow: 0 4px 8px rgba(14,165,233,0.1);
        border: 1px solid rgba(14,165,233,0.1);
      }

      .btn { transition: all 0.2s ease-in-out; }
      .btn:hover { transform: translateY(-1px); }

      .btn-delete:hover { animation: shake 0.3s ease-in-out; }
      @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-2px); }
        50% { transform: translateX(2px); }
        75% { transform: translateX(-2px); }
        100% { transform: translateX(0); }
      }

      input, select, textarea {
        outline: none;
        border-radius: 8px;
        transition: box-shadow 0.2s;
      }
      input:focus, select:focus, textarea:focus {
        box-shadow: 0 0 0 3px rgba(14,165,233,0.25);
      }

      #calendar-wrapper { overflow: hidden; }
      .fc-theme-standard .fc-scrollgrid { border-radius: 1rem; overflow: hidden; }
      .fc-toolbar.fc-header-toolbar { border-radius: 0.75rem 0.75rem 0 0; }

      @media (max-width: 640px) {
        #calendar-wrapper { padding: 0.5rem; margin-top: 0.25rem; }
      }
    </style>

    {% block head %}{% endblock %}
</head>

<body class="min-h-screen flex flex-col">

<!-- ================================ -->
<!-- ğŸ”· PC/ëª¨ë°”ì¼ ê³µí†µ í—¤ë” -->
<!-- ================================ -->
<header class="sticky top-0 z-50 bg-sky-600 text-white shadow-md border-b border-sky-700/30">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between px-4 py-3 gap-2 md:gap-0 text-center md:text-left">
        
      <!-- ë³‘ì›ëª… / ì‹œìŠ¤í…œëª… -->
      <h1 class="text-lg font-semibold leading-tight flex justify-center md:justify-start items-center gap-1">
        ğŸ¥ <span>ê°€ìì—°ì„¸ë³‘ì› ì—°ì°¨ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
      </h1>

      {% if current_user.is_authenticated %}
        <!-- âœ… PC ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="hidden md:flex flex-wrap justify-center md:justify-end items-center gap-4 text-sm flex-nowrap">
            <a href="{{ url_for('calendar.calendar_page') }}" class="flex items-center gap-1 hover:text-sky-200 transition-colors">
            <i data-lucide="calendar-days" class="w-4 h-4"></i>
            <span>ìº˜ë¦°ë”</span>
            </a>
            {% if current_user.is_superadmin or current_user.is_admin %}
            <a href="{{ url_for('employee.employee_register') }}" class="flex items-center gap-1 hover:text-sky-200 transition-colors">
                <i data-lucide="user-plus" class="w-4 h-4"></i>
                <span>ì§ì›ë“±ë¡</span>
            </a>
            <a href="{{ url_for('employee.employee_list') }}" class="flex items-center gap-1 hover:text-sky-200 transition-colors">
                <i data-lucide="users" class="w-4 h-4"></i>
                <span>ì§ì›ê´€ë¦¬</span>
            </a>
            {% if current_user.is_superadmin %}
                <a href="{{ url_for('altleave.grant_alt_leave') }}" class="flex items-center gap-1 hover:text-sky-200 transition-colors">
                    <i data-lucide="refresh-ccw" class="w-4 h-4"></i>
                    <span>ëŒ€ì²´ì—°ì°¨</span>
                </a>
                <a href="{{ url_for('birthday.birthday_report') }}" class="flex items-center gap-1 hover:text-sky-200 transition-colors">
                    <i data-lucide="gift" class="w-4 h-4"></i>
                    <span>ìƒì¼ì</span>
                </a>
            {% endif %}
            {% endif %}
            {% if current_user.is_admin and not current_user.is_superadmin %}
                <a href="{{ url_for('newhire.checklist') }}" class="flex items-center gap-1 hover:text-sky-200 transition">
                  <i data-lucide="check-square" class="w-4 h-4"></i>
                  <span>ì‹ ê·œì…ì‚¬</span>
                </a>
            {% endif %}
            <a href="{{ url_for('myinfo.myinfo') }}" class="flex items-center gap-1 text-white/80 hover:text-white transition-colors">
            <i data-lucide="user" class="w-4 h-4"></i>
            <span>ë‚´ ì •ë³´</span>
            </a>
            <a href="{{ url_for('auth.logout') }}" class="flex items-center gap-1 text-rose-200 hover:text-white transition-colors">
            <i data-lucide="log-out" class="w-4 h-4"></i>
            <span>ë¡œê·¸ì•„ì›ƒ</span>
            </a>
        </nav>
        {% endif %}

        <!-- âœ… ëª¨ë°”ì¼ ë°”í…€ ë©”ë‰´ë°” -->
        {% if current_user.is_authenticated %}
        <nav class="bottom-nav fixed bottom-0 left-0 w-full bg-white border-t border-sky-100 shadow-md md:hidden 
                    flex justify-around items-center py-2 text-xs text-slate-600 z-50">

            <!-- ìº˜ë¦°ë” -->
            <a href="{{ url_for('calendar.calendar_page') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="calendar-days" class="w-5 h-5"></i>
                <span>ìº˜ë¦°ë”</span>
            </a>

            <!-- ì§ì›ë“±ë¡ (ê´€ë¦¬ì/ì´ê´€ë¦¬ì) -->
            {% if current_user.is_admin or current_user.is_superadmin %}
            <a href="{{ url_for('employee.employee_register') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="user-plus" class="w-5 h-5"></i>
                <span>ë“±ë¡</span>
            </a>

            <a href="{{ url_for('employee.employee_list') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="users" class="w-5 h-5"></i>
                <span>ê´€ë¦¬</span>
            </a>
            {% endif %}

            <!-- ğŸ‰ ì‹ ê·œì…ì‚¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê´€ë¦¬ì ONLY / ì´ê´€ë¦¬ì ì œì™¸) -->
            {% if current_user.is_admin and not current_user.is_superadmin %}
            <a href="{{ url_for('newhire.checklist') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="check-square" class="w-5 h-5"></i>
                <span>ì‹ ê·œ</span>
            </a>
            {% endif %}

            <!-- ì´ê´€ë¦¬ì ì „ìš© ë©”ë‰´ -->
            {% if current_user.is_superadmin %}
            <a href="{{ url_for('altleave.grant_alt_leave') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="refresh-ccw" class="w-5 h-5"></i>
                <span>ëŒ€ì²´</span>
            </a>

            <a href="{{ url_for('birthday.birthday_report') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="gift" class="w-5 h-5"></i>
                <span>ìƒì¼</span>
            </a>
            {% endif %}

            <!-- ë‚´ ì •ë³´ -->
            <a href="{{ url_for('myinfo.myinfo') }}" 
                class="flex flex-col items-center hover:text-sky-600 transition">
                <i data-lucide="user" class="w-5 h-5"></i>
                <span>ë‚´ì •ë³´</span>
            </a>

            <!-- ë¡œê·¸ì•„ì›ƒ -->
            <a href="{{ url_for('auth.logout') }}" 
                class="flex flex-col items-center text-rose-500 hover:text-rose-600 transition">
                <i data-lucide="log-out" class="w-5 h-5"></i>
                <span>ë¡œê·¸ì•„ì›ƒ</span>
            </a>

        </nav>
        {% endif %}

    </div>
</header>

<!-- ================================ -->
<!-- ğŸ”· ë©”ì¸ ì½˜í…ì¸  (ê° í˜ì´ì§€ ë‚´ìš©) -->
<!-- ================================ -->
<main class="flex-1 py-4 px-2 md:px-0">
    {% block content %}{% endblock %}
</main>


<script>
  lucide.createIcons();
</script>

{% block scripts %}{% endblock %}

</body>
</html>
