{% extends "base.html" %}
{% block title %}ğŸ‚ ìƒì¼ì í˜„í™©{% endblock %}
{% block content %}
<div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-lg border border-sky-100 py-6 px-4 md:px-6 mt-[0px] sm:mt-[8px] md:mt-[8px]">

  <!-- ì œëª© -->
  <div class="flex items-center justify-center md:justify-start gap-2 mb-4">
    <i data-lucide="gift" class="w-7 h-7 text-pink-600"></i>
    <span class="text-sky-800 font-bold text-2xl">ìƒì¼ì í˜„í™©</span>
  </div>

  <form method="get" action="{{ url_for('birthday.birthday_report') }}"
      class="flex justify-center items-center gap-2 mb-8">

    <select name="month"
            class="border border-sky-300 rounded-lg px-3 py-1 text-sky-700 font-semibold bg-white shadow-sm">
        {% for m in range(1, 13) %}
            <option value="{{ m }}" {% if m == month %}selected{% endif %}>
                {{ m }}ì›”
            </option>
        {% endfor %}
    </select>

    <button type="submit"
            class="bg-sky-600 hover:bg-sky-700 text-white px-4 py-1 rounded-lg shadow-md">
        ì¡°íšŒ
    </button>
  </form>


  <!-- ë³‘ì› ìƒì¼ì¶•í•˜ê¸ˆ -->
  <div class="mb-8 border border-rose-100 rounded-xl p-4 bg-rose-50/50 shadow-inner">
    <h2 class="text-lg font-semibold text-rose-700 flex items-center gap-2 mb-3">
      <i data-lucide="cake" class="w-5 h-5 text-rose-500"></i>
      ë³‘ì›ì¥ë‹˜ ìƒì¼ì¶•í•˜ê¸ˆ
      <span class="hidden md:inline"> (â‚©30,000 / ì¸) â€” ì¡°ê±´: ì…ì‚¬ 31ì¼ ì´ìƒ </span>
    </h2>

    {% if birthday_members %}
      <div class="flex flex-wrap gap-2 mb-4">
        {% for name in birthday_members %}
          <span class="px-3 py-1 bg-rose-100 text-rose-700 rounded-full font-medium text-sm shadow-sm">
            ğŸ‰ {{ name }}
          </span>
        {% endfor %}
      </div>

      <!-- âœ… ìš”ì•½ í‘œì‹œë¡œ ë³€ê²½ë¨ -->
      <div class="text-slate-700 text-sm md:text-base">
        ì´ {{ birthday_members|length }}ëª… /
        í•©ê³„ <span class="text-rose-600 font-bold">{{ "{:,}".format(hospital_total) }}ì›</span>
      </div>

    {% else %}
      <p class="text-slate-500 text-sm">ì´ë²ˆ ë‹¬ ë³‘ì› ìƒì¼ì¶•í•˜ê¸ˆ ì§€ê¸‰ ëŒ€ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
  </div>


  <!-- ìƒì¡°íšŒë¹„ ì¶•í•˜ê¸ˆ -->
  <div class="border border-emerald-100 rounded-xl p-4 bg-emerald-50/50 shadow-inner">
    <h2 class="text-lg font-semibold text-emerald-700 flex items-center gap-2 mb-3">
      <i data-lucide="heart-handshake" class="w-5 h-5 text-emerald-600"></i>
      ìƒì¡°íšŒ ìƒì¼ì¶•í•˜ê¸ˆ
      <span class="hidden md:inline"> (ê·¼ì† 6ê°œì›”~3ë…„ ë¯¸ë§Œ: â‚©50,000  / 366ì¼~: â‚©70,000) </span>
    </h2>

    {% if union_members %}
      <div class="flex flex-wrap gap-2 mb-4">
        {% for name, amount in union_members %}
          <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full font-medium text-sm shadow-sm">
            ğŸ’ {{ name }} ({{ "{:,}".format(amount) }}ì›)
          </span>
        {% endfor %}
      </div>
      <div class="text-slate-700 text-sm md:text-base">
        ì´ {{ union_members|length }}ëª… /
        í•©ê³„ <span class="text-emerald-600 font-bold">{{ "{:,}".format(union_total) }}ì›</span>
      </div>
    {% else %}
      <p class="text-slate-500 text-sm">ì´ë²ˆ ë‹¬ ìƒì¡°íšŒë¹„ ì¶•í•˜ê¸ˆ ì§€ê¸‰ ëŒ€ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    lucide.createIcons();
  });
</script>
{% endblock %}
